'use strict';(function(){function a(){var a=Date.now(),b=window.performance&&performance.now&&1e3*performance.now()||0;return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(d){var c=Math.floor,e=16*Math.random();return 0<a?(e=0|(a+e)%16,a=c(a/16)):(e=0|(b+e)%16,b=c(b/16)),('x'===d?e:8|3&e).toString(16)})}function b(){return a()}function c(){var a=void 0,c=d('mkttid');return c?a=c:window.__mkttid?a=window.__mkttid:(a=b(),window.__mkttid=a),a}function d(a){var b=window.location.search,c=b.indexOf('#');0<c&&(b=b.substr(0,c));var d=b.match(new RegExp('[?|&]'+encodeURIComponent(a)+'=([^&]*)(&|$)'));return d&&'%s'===d[1]?d[1]:d?decodeURIComponent(d[1]):''}setTimeout(function(){var a=d('laz_trackid')||d('exlaz')||d('i_exlaz');if(a){var b=new Image,e=/pre-/.test(window.location.host)?'pre-c':'c',f=window.location.host.replace(/[\w-.]+\.lazada\./,e+'.lazada.'),g=encodeURIComponent(window.location.href),h=c();b.src='//'+f+'/t/v.gif?mkttid='+h+'&lpUrl='+g+'&__t='+Date.now()}},0)})();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _objectWithoutProperties(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){function e(){var e=window.navigator.userAgent,t=e.match(/Windows\sPhone\s(?:OS\s)?([\d\.]+)/),n={};if(t)return{"name":"Windows Phone","isWindowsPhone":!0,"version":t[1]};if(t=e.match(/Android[\s\/]([\d\.]+)/),e.match(/Safari/)&&t)return n={"version":t[1]},e.match(/Mobile\s+Safari/)?(n.name="Android",n.isAndroid=!0):(n.name="AndroidPad",n.isAndroidPad=!0),n;if(t=e.match(/(iPhone|iPad|iPod)/)){var i=t[1];if(t=e.match(/OS ([\d_\.]+) like Mac OS X/))return{"name":i,"isIPhone":"iPhone"===i||"iPod"===i,"isIPad":"iPad"===i,"isIOS":!0,"version":t[1].split("_").join(".")}}return{"name":"unknown","version":"0.0.0"}}function t(){var e=window.navigator.userAgent,t=void 0,n={};return(t=e.match(/(?:UCWEB|UCBrowser\/)([\d\.]+)/))?n={"name":"UC","isUC":!0,"version":t[1]}:(t=e.match(/MQQBrowser\/([\d\.]+)/))?n={"name":"QQ","isQQ":!0,"version":t[1]}:(t=e.match(/(?:Firefox|FxiOS)\/([\d\.]+)/))?n={"name":"Firefox","isFirefox":!0,"version":t[1]}:(t=e.match(/MSIE\s([\d\.]+)/))||(t=e.match(/IEMobile\/([\d\.]+)/))?(n={"version":t[1]},e.match(/IEMobile/)?(n.name="IEMobile",n.isIEMobile=!0):(n.name="IE",n.isIE=!0),e.match(/Android|iPhone/)&&(n.isIELikeWebkit=!0)):(t=e.match(/(?:Chrome|CriOS)\/([\d\.]+)/))?(n={"name":"Chrome","isChrome":!0,"version":t[1]},(t=e.match(/Opera|OPR\//))&&(n={"name":"Opera","isOpera":!0,"version":t[1]}),(t=e.match(/SAMSUNG|Samsung|samsung/))&&(n.isSamsung=!0),e.match(/Version\/[\d+\.]+\s*Chrome/)&&(n.name="Chrome Webview",n.isWebview=!0)):e.match(/Safari/)&&(t=e.match(/Android[\s\/]([\d\.]+)/))?n={"name":"Android","isAndroid":!0,"version":t[1]}:e.match(/iPhone|iPad|iPod/)&&(e.match(/Safari/)&&(t=e.match(/Version\/([\d\.]+)/))?n={"name":"Safari","isSafari":!0,"version":t[1]}:(t=e.match(/OS ([\d_\.]+) like Mac OS X/))&&(n={"name":"iOS Webview","isWebview":!0,"version":t[1].replace(/\_/g,".")})),n||(n={"name":"unknown","version":"0.0.0"}),n}function n(e,t){setTimeout(function(){var n=document.createEvent("HTMLEvents");n.initEvent("click",!1,!1);var i=document.querySelector("#temp-te-link");i||(i=document.createElement("a"),i.setAttribute("href",e),i.setAttribute("id","temp-te-link"),t&&i.setAttribute("target",t),i.style.display="none",document.body.appendChild(i)),i.dispatchEvent(n)},200)}function i(e){setTimeout(function(){window.location.href=e},200)}function o(e){f||(f=document.createElement("iframe"),f.id="callapp_iframe_"+Date.now(),f.frameborder="0",f.style.cssText="display:none;border:0;width:0;height:0;",document.body.appendChild(f)),f.src=e}function a(a){var r=t(),s=e();s.isIPhone&&r.isSafari?n(a):r.isChrome?s.isIPhone?n(a):!r.isSamsung||0!==s.version.indexOf("4.4")&&0!==s.version.indexOf("4.3")?i(a):(a="intent://#Intent;scheme=lazada;package=com.lazada.android;end",i(a)):r.isFirefox?s.isIPhone?n(a):o(a):o(r.isOpera?a:a)}function r(e,t){p[e]=t}function s(e,t){var n=t.arg1,i=t.spmCD,o=_objectWithoutProperties(t,["arg1","spmCD"]),a="/"+n,r=Object.assign({},p,o);if(i&&(r.spm=r.spm+"."+i),window.goldlog){var s=Object.keys(r).map(function(e){return e+"="+encodeURIComponent(r[e])}).join("&");window.goldlog.record(a,e,s,"GET")}else console.log(a,e,r)}function d(e,t){t=t||location.search;var n=t.indexOf("#");n>0&&(t=t.substr(0,n));var i=t.match(new RegExp("[?|&]"+encodeURIComponent(e)+"=([^&]*)(&|$)"));return i&&"%s"===i[1]?i[1]:i?decodeURIComponent(i[1]):""}function c(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(function(e){return e/2+"px"}).join(" ")}function l(e){if(e.touches&&e.touches.length)return{"x":e.touches[0].clientX,"y":e.touches[0].clientY}}function m(e){return new Promise(function(e){if(window.lib&&window.lib.mtop)e();else{var t=document.createElement("script");t.addEventListener("load",e,!1),t.src="//laz-g-cdn.alicdn.com/??mtb/3rd/0.0.10/require.js,mtb/lib-promise/3.0.1/polyfillB.js,mtb/lib-mtop/2.4.11/mtop.js,mtb/lib-mtop/1.6.3/middleware.js,mtb/lib-windvane/2.1.8/windvane.js,lzdmod/lib-mtop-middlewares/5.0.3/index.js",document.getElementsByTagName("head")[0].appendChild(t)}}).then(function(){return new Promise(function(t,n){window.lib.mtop.request({"api":"mtop.lazada.usergrowth.te.appinfo.query","v":"1.0","appKey":"24677475","data":{"appId":e},"ecode":1,"dataType":"jsonp"},function(i){i.data.appId===e&&t(i.data);var o=new Error("appId "+e+" not found. "+JSON.stringify(i));n(o)},function(e){n(new Error(e.ret))})})})}if("undefined"!=typeof require){var u=require;window.mQuery&&window.mQuery.log(void 0===u?"undefined":_typeof(u),{},!0)}var f=void 0,p={"page_name":"traffic_exchange","spm":"a211g0.11665204"},h="",g=h.regionID,b={"SG":{"goBack":"Go back"},"VN":{"goBack":"Quay l\u1ea1i "},"ID":{"goBack":"embali"},"TH":{"goBack":"\u0e22\u0e49\u0e2d\u0e19\u0e01\u0e25\u0e31\u0e1a"}},y=b[g]||b.SG,v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAe1BMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////NgkbwAAAAKHRSTlMA+8Lp2wbh1IZ2PR8O9vTs5bScl5WRRjErFwTMu7mib2tbVlI4MxMLjB30CAAAAJtJREFUKM/N0NkOgyAQQNGhIAjWXWu1+z7//4XFRhS1+Nrep0lOQoaBf64qneT5ZOUyxRAduC4QXbjh2BanaS4fY3oe0Y6fm8GuFCexyliB86Kb2SX7okT167C5xrXRV0mwLRQiIZ3m0HcX5p+e8unn4WB0PI3dLCOtJ7Da7jSaOUHcg10jD2AKOLLphWFQGoK7C4WFsiWs4Se9ATHDGFcbtgSMAAAAAElFTkSuQmCC",w=180,A=54,S=40,E=28,C=function e(){var t=this;_classCallCheck(this,e),this.showButton=function(e){var n=e.appInfo,i=t.el=document.createElement("div");i.style.position="fixed",i.style.zIndex=999,i.style.overflow="hidden",i.style.left=c(-w),i.style.bottom=t._btnY+"px",i.style.width=c(w),i.style.height=c(A),i.style.borderRadius=c(0,A,A,0),i.style.backgroundColor="#ff8763",i.style.background="linear-gradient(to right, #ff8763 0%,#ff330c 100%)",i.style.boxShadow=c(0,5,14)+" rgba(255,72,30,.21)",i.style.transition="left .3s ease";var o=document.createElement("span");if(o.style.display="block",o.innerText=y.goBack,o.style.color="#fff",o.style.height=o.style.lineHeight=c(A),o.style.fontSize=c(24),o.style.paddingLeft=c(E+7),o.style.marginLeft=c(7),o.style.background="url("+v+") left no-repeat",o.style.backgroundSize=c(28,28),i.appendChild(o),n&&n.icon){var a=new Image;a.src=n.icon,a.style.position="absolute",a.style.right=a.style.top=c((A-S)/2),a.style.height=a.style.borderRadius=c(S),i.appendChild(a)}return document.body.appendChild(i),setTimeout(function(){i.style.left=c(0)},17),i},this.bindEvent=function(e){e.addEventListener("click",function(){a(t._href),s("CLK",{"arg1":"view_click","pageName":document.title,"spmCD":"traffic_exchange.click"})});var n=0,i=0,o=t._btnY,r=0,d=0,m=0;return e.addEventListener("touchstart",function(e){t._btnY=o;var a=l(e),r=a.x,s=a.y;i=r,n=s,m=(screen.height||900)-A/2}),e.addEventListener("touchmove",function(a){a.preventDefault();var s=l(a),c=s.x,u=s.y;d=n-u,r=i-c,o=t._btnY+d,o<0?o=0:o>m&&(o=m),e.style.bottom=o+"px"}),e.addEventListener("touchend",function(){r>w/3&&r>2*Math.abs(d)&&(e.style.left=c(-w),s("CLK",{"arg1":"slide_out","pageName":document.title}))}),e},this._btnY=150,this._href=d("teRedirectUri");var n=d("teAppId"),i=d("teEnabled");if(n&&"false"!==i)return m(n).then(function(e){if(t._data=e,t._st=Date.now(),r("teAppId",n),r("teAppName",(e.appInfo||"").name),window.addEventListener("close",function(){s("OTHER",{"arg1":"traffic_session_close","duration":Math.round((Date.now()-t._st)/1e3)})}),!t._href)throw new Error("teRedirectUri is not defined");return s("OTHER",{"arg1":"traffic_session_start","result":"success"}),e}).then(this.showButton).then(this.bindEvent).then(function(){s("EXP",{"arg1":"float_view_show","pageName":document.title})})["catch"](function(e){s("OTHER",{"arg1":"traffic_session_start","result":"failed","message":e.message})})},k="object"===("undefined"==typeof document?"undefined":_typeof(document))&&document,_=k&&k.documentElement.doScroll,x=k&&(_?/^loaded|^c/:/^loaded|^i|^c/).test(k.readyState),I=function(){return new C};!x&&k?k.addEventListener("DOMContentLoaded",I):setTimeout(I,0)}();